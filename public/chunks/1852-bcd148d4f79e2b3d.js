"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1852],{3998:(e,s,r)=>{r.d(s,{$:()=>i,A:()=>l});var t=r(49095),a=r(28175),n=r(2821);let i=(0,a.forwardRef)((e,s)=>{let{className:r,variant:a="primary",size:i="md",loading:l,children:o,disabled:c,...d}=e,u=(0,n.$)("inline-flex items-center justify-center rounded-md font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",{primary:"bg-orange-500 text-white hover:bg-orange-600 focus:ring-orange-500 shadow-sm hover:shadow-md",secondary:"bg-gray-600 text-white hover:bg-gray-700 focus:ring-gray-500 shadow-sm hover:shadow-md",outline:"border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 focus:ring-orange-500 shadow-sm hover:shadow-md",ghost:"text-gray-700 hover:bg-gray-100 focus:ring-orange-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500 shadow-sm hover:shadow-md"}[a],{sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"}[i],r),m=(0,t.jsxs)(t.Fragment,{children:[l&&(0,t.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",suppressHydrationWarning:!0,children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",suppressHydrationWarning:!0}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",suppressHydrationWarning:!0})]}),o]});return(0,t.jsx)("button",{className:u,ref:s,disabled:c||l,...d,suppressHydrationWarning:!0,children:m})});i.displayName="Button";let l=i},36475:(e,s,r)=>{r.d(s,{default:()=>k});var t=r(49095),a=r(28175),n=r(91532),i=r(80233),l=r(61449),o=r(8327),c=r(18094),d=r(77980),u=r(57649),m=r(34051),x=r(97524),p=r(71594),h=r(35658),g=r(75754);let f=(0,a.memo)(e=>{let{item:s}=e,{updateQuantity:r,removeItem:n}=(0,u.x)(),i=(0,a.useCallback)(e=>{e<=0?n(s.productId):r(s.productId,e)},[s.productId,r,n]),l=(0,a.useCallback)(()=>{i(s.quantity+1)},[s.quantity,i]),o=(0,a.useCallback)(()=>{i(s.quantity-1)},[s.quantity,i]),c=(0,a.useCallback)(()=>{n(s.productId)},[s.productId,n]),d=(0,a.useMemo)(()=>Number(s.product.basePrice)*s.quantity,[s.product.basePrice,s.quantity]),f=(0,a.useMemo)(()=>Number(s.product.basePrice),[s.product.basePrice]);return(0,t.jsxs)("div",{className:"flex items-center space-x-4 py-4",children:[(0,t.jsx)("div",{className:"flex-shrink-0 w-16 h-16 rounded-lg overflow-hidden",children:(0,t.jsx)(g.A,{src:s.product.thumbnailUrl||"/placeholder-product.svg",alt:s.product.name,width:64,height:64,className:"w-full h-full object-cover",sizes:"64px"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-gray-900 truncate",children:s.product.name}),(0,t.jsx)("div",{className:"flex items-center space-x-2 mt-1",children:(0,t.jsx)("span",{className:"text-sm font-semibold text-gray-900",children:(0,m.vv)(f,s.product.currency||m.OS)})})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("button",{onClick:o,className:"p-1 rounded-full hover:bg-gray-100 transition-colors","aria-label":"Decrease quantity",children:(0,t.jsx)(x.A,{className:"w-4 h-4 text-gray-600"})}),(0,t.jsx)("span",{className:"w-8 text-center text-sm font-medium",children:s.quantity}),(0,t.jsx)("button",{onClick:l,className:"p-1 rounded-full hover:bg-gray-100 transition-colors","aria-label":"Increase quantity",children:(0,t.jsx)(p.A,{className:"w-4 h-4 text-gray-600"})})]}),(0,t.jsx)("div",{className:"text-right",children:(0,t.jsx)("div",{className:"text-sm font-semibold text-gray-900",children:(0,m.vv)(d,s.product.currency||m.OS)})}),(0,t.jsx)("button",{onClick:c,className:"p-1 rounded-full hover:bg-red-50 hover:text-red-600 transition-colors","aria-label":"Remove item",children:(0,t.jsx)(h.A,{className:"w-4 h-4 text-gray-400"})})]})});f.displayName="MemoizedCartItem";let y=(0,a.memo)(f,(e,s)=>{let r=e.item,t=s.item;return r.productId===t.productId&&r.quantity===t.quantity&&r.product.basePrice===t.product.basePrice&&r.product.name===t.product.name&&r.product.thumbnailUrl===t.product.thumbnailUrl});var b=r(87110),v=r(78334);function j(){let{items:e}=(0,u.x)(),[s,r]=(0,a.useState)(null),[n,i]=(0,a.useState)(!1);(0,a.useEffect)(()=>{e.length>0?l():r(null)},[e]);let l=async()=>{try{if(i(!0),!e||0===e.length)return void r(null);let s=await fetch("/api/cart/summary",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:e.map(e=>({productId:e.productId,quantity:e.quantity}))})});if(!s.ok){let e=await s.text();throw Error("Failed to calculate cart summary: ".concat(s.status," ").concat(e))}let t=await s.json();if(t.success&&t.summary)r(t.summary);else throw Error("Invalid response format from API")}catch(s){r({...(0,b.rs)(e),taxRate:.13,shippingRate:200})}finally{i(!1)}};return n?(0,t.jsx)("div",{className:"flex justify-center py-4",children:(0,t.jsx)(v.h,{size:"sm"})}):s&&0!==e.length?(0,t.jsxs)("div",{className:"space-y-3",children:[s.freeShippingRemaining>0&&(0,t.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[(0,t.jsxs)("p",{className:"text-sm text-blue-800",children:["Add ",(0,b.$g)(s.freeShippingRemaining)," more for free shipping!"]}),(0,t.jsx)("div",{className:"mt-2 w-full bg-blue-200 rounded-full h-2",children:(0,t.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat(Math.min(100,s.subtotal/s.freeShippingThreshold*100),"%")}})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsxs)("span",{className:"text-gray-600",children:["Subtotal (",s.itemsCount," ",1===s.itemsCount?"item":"items",")"]}),(0,t.jsx)("span",{className:"font-medium text-gray-900",children:(0,b.$g)(s.subtotal)})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Shipping"}),(0,t.jsx)("span",{className:"font-medium text-gray-900",children:0===s.shipping?(0,t.jsx)("span",{className:"text-green-600",children:"Free"}):(0,b.$g)(s.shipping)})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Tax"}),(0,t.jsx)("span",{className:"font-medium text-gray-900",children:(0,b.$g)(s.tax)})]}),(0,t.jsx)("div",{className:"border-t border-gray-200 pt-2",children:(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-base font-medium text-gray-900",children:"Total"}),(0,t.jsx)("span",{className:"text-base font-medium text-gray-900",children:(0,b.$g)(s.total)})]})})]}),0===s.shipping&&s.subtotal>=s.freeShippingThreshold&&(0,t.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:(0,t.jsxs)("p",{className:"text-sm text-green-800 font-medium",children:["\uD83C\uDF89 You saved ",(0,b.$g)(s.shippingRate||200)," on shipping!"]})})]}):(0,t.jsx)("div",{className:"text-center py-8",children:(0,t.jsx)("p",{className:"text-gray-500",children:"Your cart is empty"})})}var N=r(3998),w=r(76447),C=r.n(w);function k(){let{items:e,isOpen:s,closeCart:r,getTotalItems:x,getTotalPrice:p}=(0,u.x)(),h=(0,m.A4)(m.OS),g=(0,a.useMemo)(()=>p(),[e]),f=h-g,b=g>=h;return(0,t.jsx)(n.e.Root,{show:s,as:a.Fragment,children:(0,t.jsxs)(i.lG,{as:"div",className:"relative z-50",onClose:r,suppressHydrationWarning:!0,children:[(0,t.jsx)(n.e.Child,{as:a.Fragment,enter:"ease-in-out duration-500",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in-out duration-500",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,t.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",suppressHydrationWarning:!0})}),(0,t.jsx)("div",{className:"fixed inset-0 overflow-hidden",suppressHydrationWarning:!0,children:(0,t.jsx)("div",{className:"absolute inset-0 overflow-hidden",suppressHydrationWarning:!0,children:(0,t.jsx)("div",{className:"pointer-events-none fixed inset-y-0 right-0 flex max-w-full pl-10",suppressHydrationWarning:!0,children:(0,t.jsx)(n.e.Child,{as:a.Fragment,enter:"transform transition ease-in-out duration-500 sm:duration-700",enterFrom:"translate-x-full",enterTo:"translate-x-0",leave:"transform transition ease-in-out duration-500 sm:duration-700",leaveFrom:"translate-x-0",leaveTo:"translate-x-full",children:(0,t.jsx)(i.lG.Panel,{className:"pointer-events-auto w-screen max-w-md",suppressHydrationWarning:!0,children:(0,t.jsxs)("div",{className:"flex h-full flex-col overflow-y-scroll bg-white shadow-xl",suppressHydrationWarning:!0,children:[(0,t.jsxs)("div",{className:"flex-1 overflow-y-auto px-4 py-6 sm:px-6",suppressHydrationWarning:!0,children:[(0,t.jsxs)("div",{className:"flex items-start justify-between",suppressHydrationWarning:!0,children:[(0,t.jsxs)(i.lG.Title,{className:"text-lg font-medium text-gray-900",suppressHydrationWarning:!0,children:["Shopping Cart (",x(),")"]}),(0,t.jsx)("div",{className:"ml-3 flex h-7 items-center",suppressHydrationWarning:!0,children:(0,t.jsxs)("button",{type:"button",className:"relative -m-2 p-2 text-gray-400 hover:text-gray-500",onClick:r,suppressHydrationWarning:!0,children:[(0,t.jsx)("span",{className:"absolute -inset-0.5"}),(0,t.jsx)("span",{className:"sr-only",children:"Close panel"}),(0,t.jsx)(l.A,{className:"h-6 w-6","aria-hidden":"true"})]})})]}),e.length>0&&(0,t.jsx)("div",{className:"mt-6",suppressHydrationWarning:!0,children:b?(0,t.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 flex items-center space-x-3",suppressHydrationWarning:!0,children:[(0,t.jsx)("div",{className:"flex-shrink-0",suppressHydrationWarning:!0,children:(0,t.jsx)(o.A,{className:"h-5 w-5 text-green-600"})}),(0,t.jsxs)("div",{className:"flex-1",suppressHydrationWarning:!0,children:[(0,t.jsx)("p",{className:"text-sm font-medium text-green-800",children:"\uD83C\uDF89 You qualify for FREE shipping!"}),(0,t.jsx)("p",{className:"text-sm text-green-600",children:"Your order will be delivered at no extra cost"})]})]}):(0,t.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",suppressHydrationWarning:!0,children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3 mb-2",suppressHydrationWarning:!0,children:[(0,t.jsx)(o.A,{className:"h-5 w-5 text-blue-600"}),(0,t.jsxs)("p",{className:"text-sm font-medium text-blue-800",children:["Add NPR ",f.toFixed(2)," more for FREE shipping!"]})]}),(0,t.jsx)("div",{className:"w-full bg-blue-200 rounded-full h-2",suppressHydrationWarning:!0,children:(0,t.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat(Math.min(g/h*100,100),"%")},suppressHydrationWarning:!0})}),(0,t.jsxs)("p",{className:"text-xs text-blue-600 mt-1",children:["NPR ",g.toFixed(2)," of NPR ",h," required"]})]})}),(0,t.jsx)("div",{className:"mt-6",suppressHydrationWarning:!0,children:0===e.length?(0,t.jsxs)("div",{className:"text-center py-12",suppressHydrationWarning:!0,children:[(0,t.jsx)(c.A,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,t.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Your cart is empty"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Start adding some items to your cart!"}),(0,t.jsxs)("div",{className:"mt-6 space-y-3",suppressHydrationWarning:!0,children:[(0,t.jsx)(C(),{href:"/products",children:(0,t.jsx)(N.A,{onClick:r,className:"w-full",children:"Browse Products"})}),(0,t.jsx)(C(),{href:"/products",children:(0,t.jsx)(N.A,{variant:"outline",onClick:r,className:"w-full",children:"View All Products"})})]}),(0,t.jsxs)("div",{className:"mt-8 space-y-4",suppressHydrationWarning:!0,children:[(0,t.jsxs)("div",{className:"flex items-center justify-center space-x-2 text-sm text-gray-500",suppressHydrationWarning:!0,children:[(0,t.jsx)(o.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Free shipping over NPR 7,500"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-center space-x-2 text-sm text-gray-500",suppressHydrationWarning:!0,children:[(0,t.jsx)(d.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Easy 30-day returns"})]})]})]}):(0,t.jsx)("div",{className:"flow-root",suppressHydrationWarning:!0,children:(0,t.jsx)("ul",{role:"list",className:"-my-6 divide-y divide-gray-200",suppressHydrationWarning:!0,children:e.map(e=>(0,t.jsx)("li",{className:"py-6",suppressHydrationWarning:!0,children:(0,t.jsx)(y,{item:e})},e.productId))})})})]}),e.length>0&&(0,t.jsxs)("div",{className:"border-t border-gray-200 px-4 py-6 sm:px-6",suppressHydrationWarning:!0,children:[(0,t.jsx)(j,{}),(0,t.jsxs)("div",{className:"mt-6 space-y-3",suppressHydrationWarning:!0,children:[(0,t.jsx)(C(),{href:"/checkout",className:"block",children:(0,t.jsx)(N.A,{className:"w-full",size:"lg",onClick:r,children:"Checkout"})}),(0,t.jsx)(C(),{href:"/products",className:"block",children:(0,t.jsx)(N.A,{variant:"outline",className:"w-full",onClick:r,children:"Continue Shopping"})})]}),(0,t.jsx)("div",{className:"mt-6 flex justify-center text-center text-sm text-gray-500",suppressHydrationWarning:!0,children:(0,t.jsxs)("p",{suppressHydrationWarning:!0,children:["or"," ",(0,t.jsxs)("button",{type:"button",className:"font-medium text-indigo-600 hover:text-indigo-500",onClick:r,suppressHydrationWarning:!0,children:["Continue Shopping",(0,t.jsx)("span",{"aria-hidden":"true",children:" →"})]})]})})]})]})})})})})})]})})}},38292:(e,s,r)=>{r.d(s,{default:()=>v});var t=r(49095),a=r(28175),n=r(76447),i=r.n(n),l=r(46944),o=r(73285),c=r(72802),d=r(12895),u=r(18094),m=r(21257),x=r(95610),p=r(52737),h=r(18622),g=r(23503),f=r(87018),y=r(57649),b=r(61289);function v(){let e=(0,l.usePathname)(),{getTotalItems:s,openCart:r}=(0,y.x)(),{isAuthenticated:n}=(0,b.A)(),[v,j]=(0,a.useState)(!1),[N,w]=(0,a.useState)(!1);(0,a.useEffect)(()=>{j(!0);let e=()=>{w(window.innerWidth<768)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]);let C=v?s():0,k=[{name:"Home",href:"/",icon:o.A,iconActive:x.A,isActive:"/"===e},{name:"Products",href:"/products",icon:c.A,iconActive:p.A,isActive:"/products"===e},{name:"Orders",href:n?"/orders":"/auth/signin?redirect=/orders",icon:d.A,iconActive:h.A,isActive:"/orders"===e||e.startsWith("/orders/"),requiresAuth:!0},{name:"Cart",href:"#",icon:u.A,iconActive:g.A,isActive:!1,isCart:!0},{name:"Profile",href:n?"/account":"/auth/signin",icon:m.A,iconActive:f.A,isActive:"/account"===e||e.startsWith("/auth")}];if(!v||!N)return null;let W=e.startsWith("/products/")&&"/products"!==e;return(0,t.jsx)("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-40 ".concat(W?"transition-transform duration-300":""),children:(0,t.jsx)("div",{className:"flex",children:k.map(e=>{let s=e.isActive?e.iconActive:e.icon;return e.isCart?(0,t.jsxs)("button",{onClick:r,className:"flex-1 flex flex-col items-center justify-center px-2 py-3 text-xs font-medium transition-colors ".concat(e.isActive?"text-orange-600 bg-orange-50":"text-gray-500 hover:text-gray-700"),children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(s,{className:"h-6 w-6"}),v&&C>0&&(0,t.jsx)("div",{className:"absolute -top-2 -right-2 h-5 w-5 bg-orange-500 text-white text-xs rounded-full flex items-center justify-center font-semibold",children:C>99?"99+":C})]}),(0,t.jsx)("span",{className:"mt-1",children:e.name})]},e.name):(0,t.jsxs)(i(),{href:e.href,className:"flex-1 flex flex-col items-center justify-center px-2 py-3 text-xs font-medium transition-colors ".concat(e.isActive?"text-orange-600 bg-orange-50":e.requiresAuth&&!n?"text-gray-400":"text-gray-500 hover:text-gray-700"),children:[(0,t.jsx)(s,{className:"h-6 w-6"}),(0,t.jsx)("span",{className:"mt-1",children:e.name})]},e.name)})})})}},57649:(e,s,r)=>{r.d(s,{x:()=>i});var t=r(25959),a=r(89863);let n={getItem:e=>{let s=localStorage.getItem(e);if(!s)return null;try{return JSON.parse(s),s}catch(e){return null}},setItem:(e,s)=>{localStorage.setItem(e,s)},removeItem:e=>{localStorage.removeItem(e)}},i=(0,t.v)()((0,a.Zr)((e,s)=>({items:[],isOpen:!1,addItem:function(s){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,t=JSON.parse(JSON.stringify(s));e(e=>{let s=t.id,a=e.items.findIndex(e=>e.productId===s);if(-1===a)return{items:[...e.items,{productId:s,quantity:r,product:t}]};{let s=[...e.items];return s[a]={...s[a],quantity:s[a].quantity+r},{items:s}}})},removeItem:s=>{e(e=>({items:e.items.filter(e=>e.productId!==s)}))},updateQuantity:(r,t)=>{if(t<=0)return void s().removeItem(r);e(e=>{let s=e.items.findIndex(e=>e.productId===r);if(-1!==s){let r=[...e.items];return r[s]={...r[s],quantity:t},{items:r}}return{items:e.items}})},clearCart:()=>{e({items:[]})},openCart:()=>{e({isOpen:!0})},closeCart:()=>{e({isOpen:!1})},getTotalItems:()=>s().items.reduce((e,s)=>e+s.quantity,0),getTotalPrice:()=>s().items.reduce((e,s)=>e+Number(s.product.discountPrice||s.product.price)*s.quantity,0),getItemQuantity:e=>{let r=s().items.find(s=>s.productId===e);return r?r.quantity:0}}),{name:"cart-storage",storage:(0,a.KU)(()=>n),partialize:e=>({items:e.items}),onRehydrateStorage:()=>e=>{},migrate:(e,s)=>{if(!e||"object"!=typeof e)return e;if(e.items){let s=e.items.map(e=>{if((null==e?void 0:e.product)&&"object"==typeof e.product){let s=JSON.parse(JSON.stringify(e.product));return{...e,product:s,productId:e.productId||s.id}}return e});return{...e,items:s}}return e}}))},61289:(e,s,r)=>{r.d(s,{A:()=>n});var t=r(89885),a=r(28175);function n(){var e,s;let{data:r,status:n}=(0,t.useSession)();(0,a.useEffect)(()=>{},[n,r]);let i=!!(null==r?void 0:r.user),l=(null==r||null==(e=r.user)?void 0:e.role)==="ADMIN",o="loading"===n;return{user:null==r?void 0:r.user,isLoading:o,isAuthenticated:i,isAdmin:l,isCustomer:(null==r||null==(s=r.user)?void 0:s.role)==="CUSTOMER",status:n}}},64269:(e,s,r)=>{r.d(s,{cn:()=>n});var t=r(2821),a=r(75889);function n(){for(var e=arguments.length,s=Array(e),r=0;r<e;r++)s[r]=arguments[r];return(0,a.QP)((0,t.$)(s))}r(34051)},75754:(e,s,r)=>{r.d(s,{A:()=>o});var t=r(49095),a=r(28175),n=r(59851),i=r(64269);let l=(0,a.memo)(e=>{let{src:s,alt:r,width:l,height:o,className:c,priority:d=!1,quality:u=85,sizes:m="(max-width: 640px) 50vw, (max-width: 768px) 33vw, (max-width: 1024px) 25vw, 20vw",fill:x=!1,placeholder:p="empty",blurDataURL:h,onLoad:g,onError:f}=e,[y,b]=(0,a.useState)(!0),[v,j]=(0,a.useState)(!1),N=(0,a.useCallback)(()=>{b(!1),null==g||g()},[g]),w=(0,a.useCallback)(()=>{b(!1),j(!0),null==f||f()},[f]);return v?(0,t.jsx)("div",{className:(0,i.cn)("flex items-center justify-center bg-gray-100 text-gray-400",c),children:(0,t.jsx)("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}):(0,t.jsxs)("div",{className:(0,i.cn)("relative overflow-hidden",c),children:[y&&(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-200 via-gray-100 to-gray-200 animate-pulse"}),(0,t.jsx)(n.default,{src:s,alt:r,width:l,height:o,fill:x,priority:d,quality:u,sizes:m,placeholder:p,blurDataURL:h,className:(0,i.cn)("transition-opacity duration-300",y?"opacity-0":"opacity-100"),onLoad:N,onError:w,loading:d?"eager":"lazy"})]})});l.displayName="OptimizedImage";let o=l},78334:(e,s,r)=>{r.d(s,{h:()=>n});var t=r(49095),a=r(2821);function n(e){let{size:s="md",className:r}=e;return(0,t.jsx)("div",{className:(0,a.$)("animate-spin rounded-full border-2 border-gray-300 border-t-indigo-600",{sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"}[s],r),suppressHydrationWarning:!0})}},94361:(e,s,r)=>{r.d(s,{CartProvider:()=>l,_:()=>o});var t=r(49095),a=r(28175),n=r(57649);let i=(0,a.createContext)(void 0);function l(e){let{children:s}=e,[r,l]=(0,a.useState)(!1),[o,c]=(0,a.useState)(null),{addItem:d}=(0,n.x)(),u=async function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;l(!0),c(null);try{let r=JSON.parse(JSON.stringify(e)),t=await fetch("/api/products/".concat(r.id));if(!t.ok)throw Error("Product not found");let a=await t.json();if(!a.isActive)throw Error("This product is no longer available");if(a.inventory<s)throw Error("Only ".concat(a.inventory," items available"));return d(a,s),!0}catch(e){return c(e instanceof Error?e.message:"Failed to add item to cart"),!1}finally{l(!1)}};return(0,a.useEffect)(()=>{if(!o)return;let e=setTimeout(()=>c(null),5e3);return()=>clearTimeout(e)},[o]),(0,t.jsx)(i.Provider,{value:{addToCart:u,isLoading:r,error:o},children:s})}function o(){let e=(0,a.useContext)(i);if(void 0===e)throw Error("useCart must be used within a CartProvider");return e}},98081:(e,s,r)=>{r.d(s,{default:()=>W});var t=r(49095),a=r(28175),n=r(76447),i=r.n(n),l=r(59851),o=r(46944),c=r(61289),d=r(89885),u=r(3998),m=r(98227),x=r(54603),p=r(61449),h=r(42407),g=r(18094),f=r(21257);function y(e){var s,r,n,l;let{user:o,isOpen:c,onClose:u}=e,m=(0,a.useRef)(null);return((0,a.useEffect)(()=>{let e=e=>{m.current&&!m.current.contains(e.target)&&u()};return c&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[c,u]),c)?(0,t.jsx)("div",{ref:m,className:"absolute right-0 top-full mt-3 w-[18rem] rounded-2xl bg-white/95 shadow-2xl shadow-black/5 backdrop-blur border border-gray-100 focus:outline-none z-50",suppressHydrationWarning:!0,children:(0,t.jsxs)("div",{className:"py-3",suppressHydrationWarning:!0,children:[(0,t.jsx)("div",{className:"px-5 pb-4 border-b border-gray-100",suppressHydrationWarning:!0,children:(0,t.jsxs)("div",{className:"flex items-center gap-3",suppressHydrationWarning:!0,children:[(0,t.jsxs)("div",{className:"relative",suppressHydrationWarning:!0,children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-orange-400 to-orange-600 flex items-center justify-center text-white font-semibold text-lg shadow-inner shadow-black/10",children:(null==(r=o.name)||null==(s=r.charAt(0))?void 0:s.toUpperCase())||(null==(l=o.email)||null==(n=l.charAt(0))?void 0:n.toUpperCase())}),(0,t.jsxs)("span",{className:"absolute -bottom-1 -right-1 inline-flex items-center gap-1 rounded-full bg-white px-2 py-0.5 text-[10px] font-semibold uppercase tracking-wide text-gray-600 shadow",children:[(0,t.jsx)("span",{className:"h-2 w-2 rounded-full bg-emerald-400"}),"Active"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-base font-semibold text-gray-900",children:o.name}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:o.email})]})]})}),(0,t.jsx)("div",{className:"py-2",suppressHydrationWarning:!0,children:(0,t.jsx)("nav",{className:"flex flex-col gap-1 px-2",children:[{href:"/account",label:"My Account"},{href:"/orders",label:"My Orders"},{href:"/addresses",label:"Address Book"}].map(e=>(0,t.jsxs)(i(),{href:e.href,className:"flex items-center justify-between rounded-xl px-3 py-2 text-sm font-medium text-gray-700 hover:bg-orange-50 hover:text-orange-700 transition-colors",onClick:u,suppressHydrationWarning:!0,children:[e.label,(0,t.jsx)("span",{className:"text-xs text-gray-400",children:"›"})]},e.href))})}),(0,t.jsx)("div",{className:"border-t border-gray-100 pt-3 px-5",suppressHydrationWarning:!0,children:(0,t.jsx)("button",{onClick:()=>{(0,d.signOut)({callbackUrl:"/"}),u()},className:"w-full rounded-xl border border-red-200 px-4 py-2 text-sm font-semibold text-red-600 hover:bg-red-50 hover:border-red-300 transition-colors",suppressHydrationWarning:!0,children:"Sign Out"})})]})}):null}var b=r(28300),v=r(57649);function j(e){let{className:s="relative p-2 text-gray-700 hover:text-indigo-600 transition-colors",badgeClassName:r="bg-indigo-600 text-white",iconClassName:n="h-6 w-6"}=e,{getTotalItems:i,openCart:l}=(0,v.x)(),[o,c]=(0,a.useState)(!1);(0,a.useEffect)(()=>{c(!0)},[]);let d=o?i():0;return(0,t.jsxs)("button",{type:"button",onClick:l,className:"relative transition-colors ".concat(s),"aria-label":"Shopping cart with ".concat(d," items"),children:[(0,t.jsx)(b.A,{className:n}),o&&d>0&&(0,t.jsx)("span",{className:"absolute -top-1 -right-1 flex items-center justify-center w-5 h-5 text-xs font-bold rounded-full ".concat(r),children:d>99?"99+":d})]})}var N=r(34051);function w(e){let{placeholder:s="Search products...",className:r="",onClose:n,inputClassName:i,iconClassName:l}=e,[c,d]=(0,a.useState)(""),[u,m]=(0,a.useState)([]),[p,h]=(0,a.useState)(!1),[g,f]=(0,a.useState)(!1),[y,b]=(0,a.useState)(-1),v=(0,o.useRouter)(),j=(0,a.useRef)(null),w=(0,a.useRef)([]),C=(0,a.useRef)(new Map);(0,a.useEffect)(()=>{let e=setTimeout(()=>{c.trim().length>=2?k(c.trim()):(m([]),h(!1))},300);return()=>clearTimeout(e)},[c]);let k=async e=>{try{f(!0);let s=e.toLowerCase().trim();if(C.current.has(s)){let e=C.current.get(s);m(e),h(!0),b(-1),f(!1);return}let r=await fetch("/api/products/search?q=".concat(encodeURIComponent(e),"&limit=6"));if(r.ok){let e=(await r.json()).products||[];if(C.current.set(s,e),C.current.size>50){let e=C.current.keys().next().value;void 0!==e&&C.current.delete(e)}m(e),h(!0),b(-1)}}catch(e){console.error("Search error:",e)}finally{f(!1)}},W=e=>{e.preventDefault(),c.trim()&&(v.push("/search?q=".concat(encodeURIComponent(c.trim()))),d(""),h(!1),null==n||n())},H=e=>{v.push("/products/".concat(e.slug)),d(""),h(!1),null==n||n()};(0,a.useEffect)(()=>{let e=e=>{j.current&&!j.current.contains(e.target)&&(h(!1),b(-1))};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let A="block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-full leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all duration-200",S=i?"".concat(A," ").concat(i):A,I="h-5 w-5 text-gray-400",E=l?"".concat(I," ").concat(l):I;return(0,t.jsxs)("div",{className:"relative ".concat(r),suppressHydrationWarning:!0,children:[(0,t.jsx)("form",{onSubmit:W,className:"relative",suppressHydrationWarning:!0,children:(0,t.jsxs)("div",{className:"relative",suppressHydrationWarning:!0,children:[(0,t.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",suppressHydrationWarning:!0,children:(0,t.jsx)(x.A,{className:E})}),(0,t.jsx)("input",{ref:j,type:"text",value:c,onChange:e=>d(e.target.value),onKeyDown:e=>{if(p&&0!==u.length)switch(e.key){case"ArrowDown":e.preventDefault(),b(e=>e<u.length-1?e+1:e);break;case"ArrowUp":e.preventDefault(),b(e=>e>-1?e-1:-1);break;case"Enter":e.preventDefault(),y>=0&&y<u.length?H(u[y]):W(e);break;case"Escape":var s;h(!1),b(-1),null==(s=j.current)||s.blur()}},onFocus:()=>{u.length>0&&h(!0)},className:S,placeholder:s,autoComplete:"off",suppressHydrationWarning:!0}),g&&(0,t.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-indigo-600"})})]})}),p&&u.length>0&&(0,t.jsxs)("div",{className:"absolute z-50 w-full mt-1 bg-white rounded-lg shadow-lg border border-gray-200 max-h-96 overflow-y-auto",children:[(0,t.jsxs)("div",{className:"p-2",children:[(0,t.jsxs)("div",{className:"text-xs font-medium text-gray-500 px-3 py-2",children:["Products (",u.length,")"]}),u.map((e,s)=>{var r,a;return(0,t.jsxs)("button",{ref:e=>{w.current[s]=e},onClick:()=>H(e),className:"w-full text-left px-3 py-3 rounded-md transition-colors flex items-center space-x-3 ".concat(s===y?"bg-indigo-50 text-indigo-900":"hover:bg-gray-50 text-gray-900"),children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)("img",{src:e.thumbnailUrl||"/placeholder-product.jpg",alt:e.name,className:"w-10 h-10 rounded-md object-cover",style:{width:"40px",height:"40px"},width:40,height:40})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("div",{className:"font-medium text-sm truncate",children:e.name}),(0,t.jsxs)("div",{className:"text-sm text-gray-500 truncate",children:[(null==(r=e.category)?void 0:r.name)||"Uncategorized"," • ",(0,N.vv)(parseFloat((null==(a=e.price)?void 0:a.toString())||"0"),e.currency||N.OS)]})]})]},e.id)})]}),(0,t.jsx)("div",{className:"border-t border-gray-200 p-3",children:(0,t.jsxs)("button",{onClick:W,className:"w-full text-center py-2 px-3 text-sm font-medium text-indigo-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-colors",children:['View all results for "',c,'"']})})]}),p&&!g&&c.trim().length>=2&&0===u.length&&(0,t.jsx)("div",{className:"absolute z-50 w-full mt-1 bg-white rounded-lg shadow-lg border border-gray-200",children:(0,t.jsxs)("div",{className:"p-4 text-center text-gray-500",children:[(0,t.jsx)(x.A,{className:"mx-auto h-8 w-8 text-gray-400 mb-2"}),(0,t.jsxs)("p",{className:"text-sm",children:['No products found for "',c,'"']}),(0,t.jsx)("button",{onClick:W,className:"mt-2 text-sm font-medium text-indigo-600 hover:text-indigo-700",children:"Search anyway"})]})})]})}function C(e){let{isOpen:s,onClose:r}=e,[n,i]=(0,a.useState)(""),[c,d]=(0,a.useState)([]),[u,m]=(0,a.useState)([]),[h,g]=(0,a.useState)(!1),[f,y]=(0,a.useState)([]),b=(0,o.useRouter)(),v=(0,a.useRef)(null),j=(0,a.useRef)(new Map);(0,a.useEffect)(()=>{s&&v.current&&setTimeout(()=>{var e;null==(e=v.current)||e.focus()},100)},[s]),(0,a.useEffect)(()=>{let e=async()=>{try{let e=await fetch("/api/search/popular");if(e.ok){let s=await e.json();m(s.searches||[])}}catch(e){m(["Laptop","Phone","Headphones","Watch","Camera"])}};s&&(e(),y(JSON.parse(localStorage.getItem("recentSearches")||"[]").slice(0,5)))},[s]),(0,a.useEffect)(()=>{let e=setTimeout(()=>{n.trim().length>=2?w(n.trim()):d([])},300);return()=>clearTimeout(e)},[n]);let w=async e=>{try{g(!0);let s=e.toLowerCase().trim();if(j.current.has(s)){let e=j.current.get(s);d(e),g(!1);return}let r=await fetch("/api/products/search?q=".concat(encodeURIComponent(e),"&limit=8"));if(r.ok){let e=(await r.json()).products||[];j.current.set(s,e),d(e)}}catch(e){console.error("Search error:",e)}finally{g(!1)}},C=e=>{if(e.trim()){let s=[e,...JSON.parse(localStorage.getItem("recentSearches")||"[]").filter(s=>s!==e)].slice(0,10);localStorage.setItem("recentSearches",JSON.stringify(s)),b.push("/search?q=".concat(encodeURIComponent(e.trim()))),r()}};return s?(0,t.jsxs)("div",{className:"fixed inset-0 z-50 md:hidden",suppressHydrationWarning:!0,children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:r,suppressHydrationWarning:!0}),(0,t.jsxs)("div",{className:"relative bg-white h-full flex flex-col",suppressHydrationWarning:!0,children:[(0,t.jsxs)("div",{className:"flex items-center p-4 border-b border-gray-200",suppressHydrationWarning:!0,children:[(0,t.jsxs)("div",{className:"flex-1 relative",suppressHydrationWarning:!0,children:[(0,t.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",suppressHydrationWarning:!0,children:(0,t.jsx)(x.A,{className:"h-5 w-5 text-gray-400"})}),(0,t.jsx)("input",{ref:v,type:"text",value:n,onChange:e=>i(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),C(n))},className:"block w-full pl-10 pr-4 py-3 text-lg border-0 bg-gray-50 rounded-full placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Search products...",autoComplete:"off",suppressHydrationWarning:!0}),h&&(0,t.jsx)("div",{className:"absolute inset-y-0 right-0 pr-4 flex items-center",suppressHydrationWarning:!0,children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600"})})]}),(0,t.jsx)("button",{onClick:r,className:"ml-4 p-2 rounded-full hover:bg-gray-100 transition-colors",suppressHydrationWarning:!0,children:(0,t.jsx)(p.A,{className:"h-6 w-6 text-gray-500"})})]}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto",suppressHydrationWarning:!0,children:n.trim().length>=2?(0,t.jsx)("div",{className:"p-4",suppressHydrationWarning:!0,children:c.length>0?(0,t.jsxs)("div",{className:"space-y-3",suppressHydrationWarning:!0,children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wide",children:"Products"}),c.map(e=>{var s;return(0,t.jsxs)("button",{onClick:()=>{b.push("/products/".concat(e.slug)),r()},className:"w-full flex items-center space-x-3 p-3 hover:bg-gray-50 rounded-lg transition-colors text-left",suppressHydrationWarning:!0,children:[(0,t.jsx)("div",{className:"w-12 h-12 flex-shrink-0",suppressHydrationWarning:!0,children:(0,t.jsx)(l.default,{src:e.thumbnailUrl||"/placeholder-product.jpg",alt:e.name,width:48,height:48,className:"w-full h-full object-cover rounded-lg",suppressHydrationWarning:!0})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",suppressHydrationWarning:!0,children:[(0,t.jsx)("div",{className:"font-medium text-gray-900 truncate",suppressHydrationWarning:!0,children:e.name}),(0,t.jsxs)("div",{className:"text-sm text-gray-500 flex items-center gap-2",suppressHydrationWarning:!0,children:[(0,t.jsx)("span",{children:(0,N.vv)(e.price,e.currency||N.OS)}),(0,t.jsx)("span",{children:"•"}),(0,t.jsx)("span",{children:(null==(s=e.category)?void 0:s.name)||"Uncategorized"})]})]})]},e.id)}),(0,t.jsxs)("button",{onClick:()=>C(n),className:"w-full p-3 text-center text-blue-600 hover:bg-blue-50 rounded-lg transition-colors font-medium",suppressHydrationWarning:!0,children:['View all results for "',n,'"']})]}):h?null:(0,t.jsxs)("div",{className:"p-8 text-center",suppressHydrationWarning:!0,children:[(0,t.jsx)(x.A,{className:"mx-auto h-12 w-12 text-gray-300 mb-4"}),(0,t.jsxs)("p",{className:"text-gray-500",children:['No products found for "',n,'"']}),(0,t.jsx)("button",{onClick:()=>C(n),className:"mt-3 text-blue-600 hover:text-blue-700 font-medium",suppressHydrationWarning:!0,children:"Search anyway"})]})}):(0,t.jsxs)("div",{className:"p-4 space-y-6",suppressHydrationWarning:!0,children:[f.length>0&&(0,t.jsxs)("div",{suppressHydrationWarning:!0,children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",suppressHydrationWarning:!0,children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wide",children:"Recent"}),(0,t.jsx)("button",{onClick:()=>{localStorage.removeItem("recentSearches"),y([])},className:"text-xs text-blue-600 hover:text-blue-700",suppressHydrationWarning:!0,children:"Clear"})]}),(0,t.jsx)("div",{className:"space-y-2",suppressHydrationWarning:!0,children:f.map((e,s)=>(0,t.jsxs)("button",{onClick:()=>C(e),className:"w-full flex items-center space-x-3 p-3 hover:bg-gray-50 rounded-lg transition-colors text-left",suppressHydrationWarning:!0,children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center",suppressHydrationWarning:!0,children:(0,t.jsx)(x.A,{className:"h-4 w-4 text-gray-400"})}),(0,t.jsx)("span",{className:"text-gray-900",children:e})]},s))})]}),u.length>0&&(0,t.jsxs)("div",{suppressHydrationWarning:!0,children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wide mb-3",children:"Popular"}),(0,t.jsx)("div",{className:"space-y-2",suppressHydrationWarning:!0,children:u.slice(0,8).map((e,s)=>(0,t.jsxs)("button",{onClick:()=>C(e),className:"w-full flex items-center space-x-3 p-3 hover:bg-gray-50 rounded-lg transition-colors text-left",suppressHydrationWarning:!0,children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-blue-50 rounded-full flex items-center justify-center",suppressHydrationWarning:!0,children:(0,t.jsx)(x.A,{className:"h-4 w-4 text-blue-500"})}),(0,t.jsx)("span",{className:"text-gray-900",children:e})]},s))})]})]})})]})]}):null}let k=[{label:"Home",href:"/"},{label:"Our Products",href:"/products"},{label:"Gallery",href:"/gallery"},{label:"About",href:"/about"},{label:"Contact",href:"/contact"}];function W(){let{user:e,isAuthenticated:s,isAdmin:r}=(0,c.A)(),[n,b]=(0,a.useState)(!1),[v,N]=(0,a.useState)(!1),[W,H]=(0,a.useState)(!1),[A,S]=(0,a.useState)(!1),I=(0,a.useRef)(null),E=(0,o.usePathname)();(0,a.useEffect)(()=>{S(!0)},[]);let O="/search"===E,P=()=>b(!1),R=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return k.map(s=>{let r=E===s.href;return(0,t.jsxs)(i(),{href:s.href,className:"text-sm font-medium transition-all duration-200 relative group ".concat(r?"text-orange-600":"text-gray-700 hover:text-orange-600"," ").concat(e),children:[s.label,(0,t.jsx)("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-orange-600 transition-all duration-200 group-hover:w-full ".concat(r?"w-full":"")})]},s.href)})};(0,a.useEffect)(()=>{if(n){var e;document.body.style.overflow="hidden",null==(e=I.current)||e.focus()}else document.body.style.overflow="";let s=e=>{"Escape"===e.key&&P()};return n&&window.addEventListener("keydown",s),()=>{document.body.style.overflow="",window.removeEventListener("keydown",s)}},[n]);let z=()=>(0,t.jsx)(i(),{href:"/",className:"flex items-center group","aria-label":"Home",children:(0,t.jsx)("div",{className:"relative",children:(0,t.jsx)(l.default,{src:"/logo.png",alt:"Logo",width:96,height:96,className:"h-20 w-20 md:h-24 md:w-24 object-contain transition-transform group-hover:scale-105",priority:!0})})});return A?(0,t.jsxs)("header",{className:"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-50",suppressHydrationWarning:!0,children:[(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"flex justify-between items-center h-20 gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-8",children:[(0,t.jsx)(z,{}),(0,t.jsx)("nav",{className:"hidden lg:flex items-center gap-8",children:R()})]}),!O&&(0,t.jsx)("div",{className:"hidden md:flex flex-1 max-w-2xl mx-8",children:(0,t.jsx)(w,{className:"w-full",inputClassName:"rounded-full bg-gray-50 border-gray-300 text-gray-900 placeholder-gray-500 focus:ring-2 focus:ring-orange-500 focus:border-transparent",iconClassName:"h-5 w-5 text-gray-400"})}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("button",{className:"md:hidden p-2 rounded-lg text-gray-600 hover:bg-gray-100 transition-colors",onClick:()=>H(!0),"aria-label":"Search products",children:(0,t.jsx)(x.A,{className:"h-6 w-6","aria-hidden":"true"})}),(0,t.jsx)(j,{className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",iconClassName:"h-6 w-6",badgeClassName:"bg-orange-500 text-white"}),s?(0,t.jsxs)("div",{className:"hidden md:block relative",children:[(0,t.jsx)(()=>{var s,r,a,n;return(0,t.jsxs)("button",{onClick:()=>{N(!v),v||b(!1)},className:"flex items-center space-x-2 px-3 py-2 rounded-lg bg-gray-50 hover:bg-gray-100 border border-gray-200 transition-colors",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-orange-400 to-orange-600 flex items-center justify-center text-sm font-semibold text-white",children:(null==e||null==(r=e.name)||null==(s=r.charAt(0))?void 0:s.toUpperCase())||(null==e||null==(n=e.email)||null==(a=n.charAt(0))?void 0:a.toUpperCase())}),(0,t.jsx)("span",{className:"text-sm hidden lg:block text-gray-700 font-medium",children:(null==e?void 0:e.name)||"Account"}),(0,t.jsx)(m.A,{className:"w-4 h-4 text-gray-500 transition-transform ".concat(v?"rotate-180":"")})]})},{}),(0,t.jsx)(y,{user:e,isOpen:v,onClose:()=>N(!1)})]}):(0,t.jsxs)("div",{className:"hidden md:flex items-center gap-3",children:[(0,t.jsx)(i(),{href:"/auth/signin",children:(0,t.jsx)(u.A,{variant:"ghost",size:"sm",className:"text-gray-700 hover:text-orange-600 hover:bg-orange-50",children:"Sign In"})}),(0,t.jsx)(i(),{href:"/auth/signup",children:(0,t.jsx)(u.A,{size:"sm",className:"bg-orange-500 text-white hover:bg-orange-600 shadow-sm",children:"Sign Up"})})]}),(0,t.jsx)("button",{className:"lg:hidden p-2 rounded-lg text-gray-600 hover:bg-gray-100 transition-colors",onClick:()=>{b(!n),n||N(!1)},"aria-expanded":n,"aria-label":n?"Close main menu":"Open main menu",children:n?(0,t.jsx)(p.A,{className:"h-6 w-6","aria-hidden":"true"}):(0,t.jsx)(h.A,{className:"h-6 w-6","aria-hidden":"true"})})]})]})}),(0,t.jsxs)("div",{className:"lg:hidden ".concat(n?"pointer-events-auto":"pointer-events-none"),"aria-hidden":!n,suppressHydrationWarning:!0,children:[(0,t.jsx)("div",{className:"fixed inset-0 z-40 bg-slate-900/40 backdrop-blur-sm transition-opacity duration-300 ".concat(n?"opacity-100":"opacity-0"),onClick:P}),(0,t.jsxs)("div",{ref:I,tabIndex:-1,className:"fixed inset-y-0 right-0 z-50 w-full max-w-sm overflow-y-auto border-l border-gray-100 bg-white shadow-2xl transition-transform duration-300 ".concat(n?"translate-x-0":"translate-x-full"),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between px-6 py-5 border-b border-gray-100",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs uppercase tracking-wider text-gray-400",children:"Navigation"}),(0,t.jsx)("p",{className:"text-base font-semibold text-gray-900",children:"Explore KALKAL"})]}),(0,t.jsx)("button",{onClick:P,className:"rounded-full border border-gray-200 p-2 text-gray-600 hover:bg-gray-50 transition-colors","aria-label":"Close menu",children:(0,t.jsx)(p.A,{className:"h-5 w-5","aria-hidden":"true"})})]}),!O&&(0,t.jsx)("div",{className:"px-6 py-4 border-b border-gray-100 bg-gray-50/60",children:(0,t.jsx)(w,{className:"w-full",onClose:P,inputClassName:"rounded-2xl bg-white border-gray-200 text-gray-900 placeholder-gray-500 focus:ring-2 focus:ring-orange-500 focus:border-transparent",iconClassName:"h-5 w-5 text-gray-400"})}),(0,t.jsxs)("div",{className:"px-6 py-6 space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{className:"text-xs font-semibold uppercase tracking-widest text-gray-400",children:"Main links"}),(0,t.jsx)("div",{className:"space-y-1",children:R("block rounded-2xl px-4 py-3 text-base font-semibold text-gray-800 bg-gray-50 hover:bg-orange-50 hover:text-orange-700 transition-all")})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{className:"text-xs font-semibold uppercase tracking-widest text-gray-400",children:"Your space"}),s?(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"rounded-2xl border border-gray-100 p-4",children:[(0,t.jsx)("p",{className:"text-sm font-semibold text-gray-900",children:(null==e?void 0:e.name)||"Welcome back"}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:null==e?void 0:e.email})]}),(0,t.jsxs)(i(),{href:"/orders",className:"flex items-center gap-3 rounded-xl border border-gray-100 px-4 py-3 text-gray-700 hover:bg-gray-50",onClick:P,children:[(0,t.jsx)(g.A,{className:"h-5 w-5"}),"My Orders"]}),(0,t.jsxs)(i(),{href:"/profile",className:"flex items-center gap-3 rounded-xl border border-gray-100 px-4 py-3 text-gray-700 hover:bg-gray-50",onClick:P,children:[(0,t.jsx)(f.A,{className:"h-5 w-5"}),"Profile"]}),r&&(0,t.jsx)(i(),{href:"/admin",className:"flex items-center gap-3 rounded-xl bg-orange-50 px-4 py-3 text-orange-700 font-semibold",onClick:P,children:"Admin Dashboard"}),(0,t.jsx)("button",{onClick:()=>{(0,d.signOut)({callbackUrl:"/"}),P()},className:"w-full rounded-xl border border-gray-200 px-4 py-3 text-gray-700 hover:bg-gray-50 transition-colors",children:"Sign Out"})]}):(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Sign in to track orders and access personalized recommendations."}),(0,t.jsx)(i(),{href:"/auth/signin",className:"block w-full rounded-xl border border-gray-200 px-4 py-3 text-center font-semibold text-gray-700 hover:bg-gray-50",onClick:P,children:"Sign In"}),(0,t.jsx)(i(),{href:"/auth/signup",className:"block w-full rounded-xl bg-orange-500 px-4 py-3 text-center font-semibold text-white shadow-lg shadow-orange-500/30",onClick:P,children:"Create Account"})]})]}),(0,t.jsxs)("div",{className:"rounded-2xl bg-gradient-to-r from-orange-50 to-yellow-50 p-4 text-sm text-gray-700",children:[(0,t.jsx)("p",{className:"font-semibold text-gray-900 mb-1",children:"Need help?"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Reach our support team anytime at support@kalkal.com."})]})]})]})]}),(0,t.jsx)(C,{isOpen:W,onClose:()=>H(!1)})]}):(0,t.jsx)("header",{className:"bg-white shadow-sm border-b border-gray-200",suppressHydrationWarning:!0,children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsx)("div",{className:"flex justify-between items-center h-20",children:(0,t.jsx)(z,{})})})})}}}]);