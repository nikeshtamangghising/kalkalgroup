(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2116],{4045:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var a=s(28175);let r=a.forwardRef(function(e,t){let{title:s,titleId:r,...l}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},l),s?a.createElement("title",{id:r},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"}))})},6860:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var a=s(28175);let r=a.forwardRef(function(e,t){let{title:s,titleId:r,...l}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},l),s?a.createElement("title",{id:r},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))})},34982:(e,t,s)=>{Promise.resolve().then(s.bind(s,56505))},39218:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var a=s(28175);let r=a.forwardRef(function(e,t){let{title:s,titleId:r,...l}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},l),s?a.createElement("title",{id:r},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))})},46944:(e,t,s)=>{"use strict";var a=s(53936);s.o(a,"useParams")&&s.d(t,{useParams:function(){return a.useParams}}),s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})},56505:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var a=s(49095),r=s(28175),l=s(76447),i=s.n(l),n=s(89885),d=s(46944),o=s(39218),c=s(4045),m=s(6860),u=s(66617);function x(){let[e,t]=(0,r.useState)(""),[s,l]=(0,r.useState)(""),[x,h]=(0,r.useState)(!0),[p,f]=(0,r.useState)(!1),[g,w]=(0,r.useState)({}),[b,v]=(0,r.useState)(null),[j,N]=(0,r.useState)("idle"),E=(0,d.useRouter)(),{data:y,status:k}=(0,n.useSession)(),A=(0,d.useSearchParams)(),F=null==A?void 0:A.get("redirect"),S=(0,r.useMemo)(()=>F&&F.startsWith("/admin")?F:"/admin",[F]);(0,r.useEffect)(()=>{var e;"authenticated"===k&&(null==y||null==(e=y.user)?void 0:e.role)==="ADMIN"&&E.replace(S)},[k,y,E,S]);let B=async t=>{if(t.preventDefault(),v(null),(()=>{let t={};if(e.trim()){let s;s=e.trim(),/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s)||(t.email="Please enter a valid email address")}else t.email="Email is required";return s.trim()?s.trim().length<8&&(t.password="Password must be at least 8 characters"):t.password="Password is required",w(t),0===Object.keys(t).length})())try{var a;N("loading");let t=await (0,n.signIn)("credentials",{email:e,password:s,redirect:!1});if(null==t?void 0:t.error){v("Invalid email or password. Please try again."),N("idle");return}let r=await (0,n.getSession)();if((null==r||null==(a=r.user)?void 0:a.role)!=="ADMIN"){v("Access denied. Admin privileges required."),N("idle");return}N("success"),setTimeout(()=>{E.replace(S)},1200)}catch(e){console.error("Admin login error:",e),v("Something went wrong. Please try again."),N("idle")}},D="flex items-center gap-3 rounded-xl border border-[#E0E0E0] bg-white px-4 text-[16px] text-[#333] focus-within:border-[#1B4332] focus-within:ring-4 focus-within:ring-[#1B4332]/15 transition",P="h-12 flex-1 bg-transparent text-base placeholder-[#999] focus:outline-none",_=e=>e?(0,a.jsx)("p",{className:"mt-2 flex items-center text-sm text-[#E53935]",role:"alert",children:e}):null;return(0,a.jsxs)("div",{className:"relative flex min-h-screen items-center justify-center bg-[#F5F7FA] px-4 py-10 sm:px-8",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top,_rgba(27,67,50,0.08),_transparent_45%)]","aria-hidden":!0}),(0,a.jsxs)("div",{className:"relative z-10 mx-auto flex w-full max-w-6xl flex-col gap-10 rounded-[32px] bg-white/70 p-6 backdrop-blur-lg shadow-[0_25px_80px_rgba(27,67,50,0.12)] lg:flex-row lg:p-10",children:[(0,a.jsxs)("div",{className:"flex flex-1 flex-col justify-center rounded-[28px] bg-gradient-to-br from-[#1B4332] to-[#2D6A4F] p-10 text-white shadow-2xl",children:[(0,a.jsx)("div",{className:"text-sm uppercase tracking-[0.5em] text-white/70",children:"Kal Kal Admin"}),(0,a.jsx)("h1",{className:"mt-6 text-4xl font-semibold",children:"Secure Admin Portal"}),(0,a.jsx)("p",{className:"mt-4 text-white/80",children:"Manage products, orders, and content with enterprise-grade security. Only authorized staff may access this dashboard."}),(0,a.jsx)("ul",{className:"mt-8 space-y-4 text-white/80",children:["Multi-factor protected","Real-time monitoring","24/7 security team"].map(e=>(0,a.jsxs)("li",{className:"flex items-center gap-3",children:[(0,a.jsx)("span",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-white/10 text-xl",children:"\uD83D\uDD12"}),(0,a.jsx)("span",{children:e})]},e))}),(0,a.jsxs)("div",{className:"mt-auto pt-10 text-sm text-white/70",children:["\xa9 ",new Date().getFullYear()," Kal Kal Group \xb7 All rights reserved"]})]}),(0,a.jsxs)("div",{className:"flex w-full max-w-lg flex-col rounded-[28px] bg-white px-6 py-8 shadow-[0_20px_60px_rgba(0,0,0,0.08)] sm:px-10",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"mx-auto w-fit rounded-2xl border border-[#F0E6D4] px-6 py-2 text-sm font-semibold text-[#1B4332]",children:"KAL KAL GROUP"}),(0,a.jsx)("h2",{className:"mt-6 text-3xl font-semibold text-[#333]",children:"Admin Portal"}),(0,a.jsx)("p",{className:"mt-2 text-base text-[#666]",children:"Sign in to access your dashboard"})]}),(0,a.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:B,noValidate:!0,children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium text-[#333]",htmlFor:"admin-email",children:"Email address"}),(0,a.jsxs)("div",{className:"".concat(D," mt-2 ").concat(g.email?"border-[#E53935] bg-[#FFEBEE]/60 focus-within:border-[#E53935] focus-within:ring-[#E53935]/20":""),children:[(0,a.jsx)(o.A,{className:"h-5 w-5 text-[#999]","aria-hidden":!0}),(0,a.jsx)("input",{autoComplete:"email",className:P,id:"admin-email",name:"email",onChange:e=>{t(e.target.value),g.email&&w(e=>({...e,email:void 0}))},placeholder:"admin@kalkalgroup.com",type:"email",value:e,"aria-invalid":!!g.email})]}),_(g.email)]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium text-[#333]",htmlFor:"admin-password",children:"Password"}),(0,a.jsxs)("div",{className:"".concat(D," mt-2 ").concat(g.password?"border-[#E53935] bg-[#FFEBEE]/60 focus-within:border-[#E53935] focus-within:ring-[#E53935]/20":""),children:[(0,a.jsx)(c.A,{className:"h-5 w-5 text-[#999]","aria-hidden":!0}),(0,a.jsx)("input",{autoComplete:"current-password",className:P,id:"admin-password",name:"password",onChange:e=>{l(e.target.value),g.password&&w(e=>({...e,password:void 0}))},placeholder:"Enter your password",type:p?"text":"password",value:s,"aria-invalid":!!g.password}),(0,a.jsx)("button",{"aria-label":p?"Hide password":"Show password",className:"text-[#999] transition hover:text-[#1B4332]",type:"button",onClick:()=>f(e=>!e),children:p?(0,a.jsx)(m.A,{className:"h-5 w-5"}):(0,a.jsx)(u.A,{className:"h-5 w-5"})})]}),_(g.password)]}),(0,a.jsxs)("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[(0,a.jsxs)("label",{className:"flex cursor-pointer items-center gap-3 text-sm text-[#666]",children:[(0,a.jsx)("input",{checked:x,className:"h-4 w-4 rounded border-[#D0D0D0] text-[#1B4332] focus:ring-[#1B4332]",type:"checkbox",onChange:e=>h(e.target.checked)}),"Remember me"]}),(0,a.jsx)("a",{className:"text-sm font-semibold text-[#1B4332] hover:underline",href:"mailto:support@kalkalgroup.com",children:"Forgot password?"})]}),b&&(0,a.jsx)("div",{className:"rounded-2xl border border-[#FFCDD2] bg-[#FFEBEE] px-4 py-3 text-sm text-[#B71C1C]",role:"alert",children:b}),"success"===j&&(0,a.jsx)("div",{className:"rounded-2xl border border-[#A5D6A7] bg-[#E8F5E9] px-4 py-3 text-sm text-[#1B5E20]",role:"status",children:"Login successful. Redirecting to dashboard..."}),(0,a.jsx)("button",{className:"flex h-14 w-full items-center justify-center rounded-xl bg-[#1B4332] font-semibold text-white shadow-[0_15px_30px_rgba(27,67,50,0.4)] transition hover:-translate-y-0.5 hover:bg-[#153728] focus:outline-none focus:ring-4 focus:ring-[#1B4332]/40 disabled:cursor-not-allowed disabled:opacity-60",disabled:"loading"===j,type:"submit",children:"loading"===j?(0,a.jsxs)("span",{className:"flex items-center gap-3",children:[(0,a.jsx)("span",{className:"h-5 w-5 animate-spin rounded-full border-2 border-white/30 border-t-white"}),"Signing in..."]}):"Sign In"})]}),(0,a.jsx)("div",{className:"mt-8 border-t border-[#F0F0F0] pt-6 text-center text-sm text-[#999]",children:"\uD83D\uDD12 Secure admin access \xb7 Sessions protected with encryption."}),(0,a.jsx)("div",{className:"mt-4 text-center text-sm",children:(0,a.jsx)(i(),{className:"text-[#1B4332] font-medium hover:underline",href:"/",children:"â† Back to main website"})})]})]})]})}function h(){return(0,a.jsx)(r.Suspense,{fallback:(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-[#F5F7FA] to-[#E4E8ED] flex items-center justify-center",children:(0,a.jsx)("div",{className:"w-full max-w-md rounded-3xl bg-white/80 p-8 shadow-2xl",children:(0,a.jsxs)("div",{className:"space-y-4 animate-pulse",children:[(0,a.jsx)("div",{className:"h-6 w-24 rounded-full bg-gray-200"}),(0,a.jsx)("div",{className:"h-6 w-40 rounded-full bg-gray-200"}),(0,a.jsx)("div",{className:"h-12 rounded-xl bg-gray-200"}),(0,a.jsx)("div",{className:"h-12 rounded-xl bg-gray-200"}),(0,a.jsx)("div",{className:"h-12 rounded-xl bg-gray-200"})]})})}),children:(0,a.jsx)(x,{})})}},66617:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var a=s(28175);let r=a.forwardRef(function(e,t){let{title:s,titleId:r,...l}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},l),s?a.createElement("title",{id:r},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))})}},e=>{e.O(0,[6447,9885,3575,7358],()=>e(e.s=34982)),_N_E=e.O()}]);