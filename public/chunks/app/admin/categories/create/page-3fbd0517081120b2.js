(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7796],{2821:(e,r,a)=>{"use strict";function t(){for(var e,r,a=0,t="",s=arguments.length;a<s;a++)(e=arguments[a])&&(r=function e(r){var a,t,s="";if("string"==typeof r||"number"==typeof r)s+=r;else if("object"==typeof r)if(Array.isArray(r)){var o=r.length;for(a=0;a<o;a++)r[a]&&(t=e(r[a]))&&(s&&(s+=" "),s+=t)}else for(t in r)r[t]&&(s&&(s+=" "),s+=t);return s}(e))&&(t&&(t+=" "),t+=r);return t}a.d(r,{$:()=>t})},3998:(e,r,a)=>{"use strict";a.d(r,{$:()=>n,A:()=>i});var t=a(49095),s=a(28175),o=a(2821);let n=(0,s.forwardRef)((e,r)=>{let{className:a,variant:s="primary",size:n="md",loading:i,children:d,disabled:l,...c}=e,u=(0,o.$)("inline-flex items-center justify-center rounded-md font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",{primary:"bg-orange-500 text-white hover:bg-orange-600 focus:ring-orange-500 shadow-sm hover:shadow-md",secondary:"bg-gray-600 text-white hover:bg-gray-700 focus:ring-gray-500 shadow-sm hover:shadow-md",outline:"border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 focus:ring-orange-500 shadow-sm hover:shadow-md",ghost:"text-gray-700 hover:bg-gray-100 focus:ring-orange-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500 shadow-sm hover:shadow-md"}[s],{sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"}[n],a),m=(0,t.jsxs)(t.Fragment,{children:[i&&(0,t.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",suppressHydrationWarning:!0,children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",suppressHydrationWarning:!0}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",suppressHydrationWarning:!0})]}),d]});return(0,t.jsx)("button",{className:u,ref:r,disabled:l||i,...c,suppressHydrationWarning:!0,children:m})});n.displayName="Button";let i=n},42589:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>d});var t=a(49095),s=a(28175),o=a(46944),n=a(86948),i=a(3998);function d(){let e=(0,o.useRouter)(),[r,a]=(0,s.useState)(!1),[d,l]=(0,s.useState)(null),[c,u]=(0,s.useState)({name:"",slug:"",description:"",parent_id:"",is_active:!0,sort_order:0}),[m,g]=(0,s.useState)([]);(0,s.useEffect)(()=>{p()},[]);let p=async()=>{try{let e=await fetch("/api/categories?includeInactive=false");if(e.ok){let r=await e.json(),a=[];Array.isArray(r)?a=r:r.data&&r.data.categories?a=r.data.categories:r.categories&&(a=r.categories),g(a)}}catch(e){console.error("Failed to fetch parent categories:",e)}},h=e=>{let{name:r,value:a,type:t}=e.target;u(s=>({...s,[r]:"checkbox"===t?e.target.checked:a}))},y=async r=>{r.preventDefault(),a(!0),l(null);try{let r=await fetch("/api/categories",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:c.name,description:c.description,parentId:c.parent_id||void 0})});if(r.ok)e.push("/admin?tab=categories");else{let e=await r.json();l(e.error||"Failed to create category")}}catch(e){l("Failed to create category")}finally{a(!1)}};return(0,t.jsxs)("div",{className:"max-w-2xl mx-auto p-6",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Create New Category"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Add a new product category"})]}),(0,t.jsxs)(n.Zp,{children:[(0,t.jsx)(n.aR,{children:(0,t.jsx)("h2",{className:"text-lg font-medium",children:"Category Details"})}),(0,t.jsx)(n.Wu,{children:(0,t.jsxs)("form",{onSubmit:y,className:"space-y-6",children:[d&&(0,t.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:d}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Category Name *"}),(0,t.jsx)("input",{type:"text",id:"name",name:"name",value:c.name,onChange:e=>{let r=e.target.value;u(e=>({...e,name:r,slug:r.toLowerCase().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim()}))},required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Enter category name"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"slug",className:"block text-sm font-medium text-gray-700 mb-2",children:"URL Slug *"}),(0,t.jsx)("input",{type:"text",id:"slug",name:"slug",value:c.slug,onChange:h,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"category-url-slug"}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"This will be used in the URL. Only lowercase letters, numbers, and hyphens allowed."})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),(0,t.jsx)("textarea",{id:"description",name:"description",value:c.description,onChange:h,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Enter category description"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"parent_id",className:"block text-sm font-medium text-gray-700 mb-2",children:"Parent Category"}),(0,t.jsxs)("select",{id:"parent_id",name:"parent_id",value:c.parent_id,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",children:[(0,t.jsx)("option",{value:"",children:"No Parent (Root Category)"}),m.map(e=>(0,t.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between pt-6 border-t",children:[(0,t.jsx)(i.A,{type:"button",variant:"outline",onClick:()=>e.push("/admin?tab=categories"),children:"Cancel"}),(0,t.jsx)(i.A,{type:"submit",disabled:r,children:r?"Creating...":"Create Category"})]})]})})]})]})}},46944:(e,r,a)=>{"use strict";var t=a(53936);a.o(t,"useParams")&&a.d(r,{useParams:function(){return t.useParams}}),a.o(t,"usePathname")&&a.d(r,{usePathname:function(){return t.usePathname}}),a.o(t,"useRouter")&&a.d(r,{useRouter:function(){return t.useRouter}}),a.o(t,"useSearchParams")&&a.d(r,{useSearchParams:function(){return t.useSearchParams}})},48665:(e,r,a)=>{Promise.resolve().then(a.bind(a,42589))},86948:(e,r,a)=>{"use strict";a.d(r,{Wu:()=>d,ZB:()=>l,Zp:()=>n,aR:()=>i});var t=a(49095),s=a(28175),o=a(2821);let n=(0,s.forwardRef)((e,r)=>{let{className:a,variant:s="default",...n}=e;return(0,t.jsx)("div",{ref:r,className:(0,o.$)("rounded-lg",{default:"bg-white border border-gray-200",outlined:"bg-white border-2 border-gray-300",elevated:"bg-white shadow-lg border border-gray-100"}[s],a),...n,suppressHydrationWarning:!0})});n.displayName="Card";let i=(0,s.forwardRef)((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)("div",{ref:r,className:(0,o.$)("px-4 py-3 sm:px-6 sm:py-4 border-b border-gray-200",a),...s,suppressHydrationWarning:!0})});i.displayName="CardHeader";let d=(0,s.forwardRef)((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)("div",{ref:r,className:(0,o.$)("px-4 py-3 sm:px-6 sm:py-4",a),...s,suppressHydrationWarning:!0})});d.displayName="CardContent";let l=(0,s.forwardRef)((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)("h3",{ref:r,className:(0,o.$)("text-lg font-semibold leading-6 text-gray-900",a),...s,suppressHydrationWarning:!0})});l.displayName="CardTitle",(0,s.forwardRef)((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)("p",{ref:r,className:(0,o.$)("text-sm text-gray-600 mt-1",a),...s,suppressHydrationWarning:!0})}).displayName="CardDescription",(0,s.forwardRef)((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)("div",{ref:r,className:(0,o.$)("px-4 py-3 sm:px-6 sm:py-4 border-t border-gray-200",a),...s,suppressHydrationWarning:!0})}).displayName="CardFooter"}},e=>{e.O(0,[3575,7358],()=>e(e.s=48665)),_N_E=e.O()}]);