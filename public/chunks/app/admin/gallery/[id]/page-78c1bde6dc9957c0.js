(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2031],{2821:(e,t,r)=>{"use strict";function a(){for(var e,t,r=0,a="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=function e(t){var r,a,s="";if("string"==typeof t||"number"==typeof t)s+=t;else if("object"==typeof t)if(Array.isArray(t)){var l=t.length;for(r=0;r<l;r++)t[r]&&(a=e(t[r]))&&(s&&(s+=" "),s+=a)}else for(a in t)t[a]&&(s&&(s+=" "),s+=a);return s}(e))&&(a&&(a+=" "),a+=t);return a}r.d(t,{$:()=>a})},3998:(e,t,r)=>{"use strict";r.d(t,{$:()=>i,A:()=>n});var a=r(49095),s=r(28175),l=r(2821);let i=(0,s.forwardRef)((e,t)=>{let{className:r,variant:s="primary",size:i="md",loading:n,children:o,disabled:c,...d}=e,m=(0,l.$)("inline-flex items-center justify-center rounded-md font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",{primary:"bg-orange-500 text-white hover:bg-orange-600 focus:ring-orange-500 shadow-sm hover:shadow-md",secondary:"bg-gray-600 text-white hover:bg-gray-700 focus:ring-gray-500 shadow-sm hover:shadow-md",outline:"border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 focus:ring-orange-500 shadow-sm hover:shadow-md",ghost:"text-gray-700 hover:bg-gray-100 focus:ring-orange-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500 shadow-sm hover:shadow-md"}[s],{sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"}[i],r),g=(0,a.jsxs)(a.Fragment,{children:[n&&(0,a.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",suppressHydrationWarning:!0,children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",suppressHydrationWarning:!0}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",suppressHydrationWarning:!0})]}),o]});return(0,a.jsx)("button",{className:m,ref:t,disabled:c||n,...d,suppressHydrationWarning:!0,children:g})});i.displayName="Button";let n=i},24084:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f});var a=r(49095),s=r(28175),l=r(46944),i=r(76447),n=r.n(i),o=r(72384),c=r(90856),d=r(66617),m=r(35658),g=r(65176);let h=s.forwardRef(function(e,t){let{title:r,titleId:a,...l}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},l),r?s.createElement("title",{id:a},r):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))});var x=r(3998);let u=(0,s.memo)(()=>{let e=(0,l.useParams)().id,[t,r]=(0,s.useState)(null),[i,u]=(0,s.useState)(!0),[f,y]=(0,s.useState)(null),[v,p]=(0,s.useState)(!1);(0,s.useEffect)(()=>{let t=!0;return(async()=>{u(!0),y(null);try{let a=await fetch("/api/gallery/".concat(e)),s=await a.json();if(!s.success||!s.data)throw Error(s.error||"Failed to fetch gallery item");t&&r((e=>({id:e.id,title:e.title,description:e.description,category:e.category,imageUrl:e.image_url,isActive:e.is_active,createdAt:e.created_at,updatedAt:e.updated_at}))(s.data))}catch(e){t&&(r(null),y(e instanceof Error?e.message:"Failed to fetch gallery item"))}finally{t&&u(!1)}})(),()=>{t=!1}},[e]);let b=async()=>{if(confirm("Are you sure you want to delete this gallery item? This action cannot be undone.")){p(!0);try{let t=await fetch("/api/gallery/".concat(e),{method:"DELETE"}),r=await t.json();if(r.success)window.location.href="/admin/gallery";else throw Error(r.error||"Failed to delete gallery item")}catch(e){y(e instanceof Error?e.message:"Failed to delete gallery item"),console.error("Error deleting gallery item:",e)}finally{p(!1)}}},j=async()=>{if(t)try{let a=await fetch("/api/gallery/".concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({isActive:!t.isActive})}),s=await a.json();if(s.success)r(e=>e?{...e,isActive:!e.isActive,updatedAt:new Date().toISOString()}:null);else throw Error(s.error||"Failed to update gallery item status")}catch(e){y(e instanceof Error?e.message:"Failed to update gallery item status"),console.error("Error updating gallery item status:",e)}};return i?(0,a.jsx)("div",{className:"p-6",children:(0,a.jsxs)("div",{className:"animate-pulse",children:[(0,a.jsx)("div",{className:"h-8 bg-gray-300 rounded w-1/4 mb-6"}),(0,a.jsx)("div",{className:"bg-gray-200 h-96 rounded-lg mb-6"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"h-4 bg-gray-300 rounded w-3/4"}),(0,a.jsx)("div",{className:"h-4 bg-gray-300 rounded w-1/2"})]})]})}):f||!t?(0,a.jsx)("div",{className:"p-6",children:(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(o.A,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:f||"Gallery item not found"}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:f?"There was an error loading the gallery item.":"The gallery item you're looking for doesn't exist."}),(0,a.jsx)(n(),{href:"/admin/gallery",children:(0,a.jsx)(x.A,{children:"Back to Gallery"})})]})}):(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(n(),{href:"/admin/gallery",children:(0,a.jsx)("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,a.jsx)(c.A,{className:"w-5 h-5 text-gray-600"})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:t.title}),(0,a.jsxs)("div",{className:"flex items-center gap-4 mt-2",children:[(0,a.jsx)("span",{className:"px-3 py-1 text-sm font-medium rounded-full ".concat(t.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:t.isActive?"Active":"Inactive"}),(0,a.jsx)("span",{className:"px-3 py-1 text-sm font-medium rounded-full bg-indigo-100 text-indigo-800",children:t.category})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)(x.A,{variant:"outline",onClick:j,className:"flex items-center",children:[(0,a.jsx)(d.A,{className:"w-4 h-4 mr-2"}),t.isActive?"Deactivate":"Activate"]}),(0,a.jsxs)(x.A,{variant:"danger",onClick:b,disabled:v,className:"flex items-center",children:[v?(0,a.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}):(0,a.jsx)(m.A,{className:"w-4 h-4 mr-2"}),v?"Deleting...":"Delete"]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,a.jsx)("div",{className:"lg:col-span-2",children:(0,a.jsx)("div",{className:"bg-white rounded-lg shadow border overflow-hidden",children:(0,a.jsxs)("div",{className:"aspect-[4/3] bg-gradient-to-br from-gray-200 to-gray-300 flex items-center justify-center relative",children:[t.imageUrl?(0,a.jsx)("img",{src:t.imageUrl,alt:t.title,className:"w-full h-full object-cover",onError:e=>{e.target.style.display="none"}}):(0,a.jsxs)("div",{className:"text-center text-gray-400",children:[(0,a.jsx)(o.A,{className:"w-24 h-24 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-lg font-medium",children:"No Image Available"}),(0,a.jsx)("p",{className:"text-sm",children:"This gallery item has no image"})]}),(0,a.jsx)("div",{className:"absolute top-4 left-4",children:(0,a.jsx)("span",{className:"px-3 py-1 text-sm font-medium rounded-full ".concat(t.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:t.isActive?"Active":"Inactive"})})]})})}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow border p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Details"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),(0,a.jsx)("p",{className:"text-gray-900",children:t.title})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,a.jsx)("p",{className:"text-gray-600 leading-relaxed",children:t.description})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(g.A,{className:"w-4 h-4 text-indigo-500 mr-2"}),(0,a.jsx)("span",{className:"text-gray-900",children:t.category})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,a.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(t.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:t.isActive?"Active":"Inactive"})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow border p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Metadata"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Created"}),(0,a.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,a.jsx)(h,{className:"w-4 h-4 mr-2"}),(0,a.jsx)("span",{children:new Date(t.createdAt).toLocaleString()})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Updated"}),(0,a.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,a.jsx)(h,{className:"w-4 h-4 mr=2"}),(0,a.jsx)("span",{children:new Date(t.updatedAt).toLocaleString()})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ID"}),(0,a.jsx)("code",{className:"text-sm text-gray-600 bg-gray-100 px-2 py-1 rounded",children:t.id})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow border p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("button",{onClick:j,className:"w-full flex items-center px-4 py-2 text-left text-gray-700 hover:bg-gray-50 rounded-lg transition-colors",children:[(0,a.jsx)(d.A,{className:"w-4 h-4 mr=3"}),t.isActive?"Deactivate":"Activate"]}),(0,a.jsxs)("button",{onClick:b,disabled:v,className:"w-full flex items-center px-4 py-2 text-left text-red-600 hover:bg-red-50 rounded-lg transition-colors disabled:opacity-50",children:[v?(0,a.jsx)("div",{className:"w-4 h-4 border-2 border-red-600 border-t-transparent rounded-full animate-spin mr=3"}):(0,a.jsx)(m.A,{className:"w-4 h-4 mr=3"}),v?"Deleting...":"Delete Item"]})]})]})]})]})]})});u.displayName="ViewGalleryPage";let f=u},27506:(e,t,r)=>{Promise.resolve().then(r.bind(r,24084))},35658:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var a=r(28175);let s=a.forwardRef(function(e,t){let{title:r,titleId:s,...l}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},l),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))})},46944:(e,t,r)=>{"use strict";var a=r(53936);r.o(a,"useParams")&&r.d(t,{useParams:function(){return a.useParams}}),r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})},65176:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var a=r(28175);let s=a.forwardRef(function(e,t){let{title:r,titleId:s,...l}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},l),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"}),a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6Z"}))})},66617:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var a=r(28175);let s=a.forwardRef(function(e,t){let{title:r,titleId:s,...l}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},l),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))})},72384:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var a=r(28175);let s=a.forwardRef(function(e,t){let{title:r,titleId:s,...l}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},l),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))})},90856:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var a=r(28175);let s=a.forwardRef(function(e,t){let{title:r,titleId:s,...l}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},l),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))})}},e=>{e.O(0,[6447,3575,7358],()=>e(e.s=27506)),_N_E=e.O()}]);