(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6658],{9892:(e,a,d)=>{Promise.resolve().then(d.bind(d,47217))},47217:(e,a,d)=>{"use strict";d.r(a),d.d(a,{default:()=>c});var s=d(49095),r=d(28175),t=d(46944),n=d(68447),l=d(38113),i=d(55103);function c(){let e=(0,t.useRouter)(),a=(0,t.useParams)().id,[d,c]=(0,r.useState)(null),[o,x]=(0,r.useState)(!1),[h,u]=(0,r.useState)(!0),[j,m]=(0,r.useState)(null),b=(0,r.useCallback)(async()=>{u(!0),m(null);try{let e=await fetch("/api/brands/".concat(a));if(e.ok){let a=await e.json();c(a)}else 404===e.status?m("Brand not found"):m("Failed to load brand")}catch(e){m("Failed to load brand")}finally{u(!1)}},[a]);(0,r.useEffect)(()=>{a&&b()},[b]);let p=async d=>{x(!0),m(null);try{let s=await fetch("/api/brands/".concat(a),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)});if(s.ok)e.push("/admin/brands");else{let e=await s.json();m(e.error||"Failed to update brand")}}catch(e){m("Failed to update brand")}finally{x(!1)}};return h?(0,s.jsx)(i.A,{children:(0,s.jsx)(l.A,{children:(0,s.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})})})}):j&&!d?(0,s.jsx)(i.A,{children:(0,s.jsx)(l.A,{children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Edit Brand"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Update brand information"})]}),(0,s.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:[(0,s.jsx)("div",{className:"text-red-600",children:j}),(0,s.jsx)("button",{onClick:b,className:"mt-2 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Retry"})]})]})})}):d?(0,s.jsx)(i.A,{children:(0,s.jsx)(l.A,{children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Edit Brand"}),(0,s.jsxs)("p",{className:"text-gray-600",children:['Update "',d.name,'" information']})]}),j&&(0,s.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:(0,s.jsx)("div",{className:"text-red-600",children:j})}),(0,s.jsx)(n.A,{brand:d,onSubmit:p,loading:o})]})})}):(0,s.jsx)(i.A,{children:(0,s.jsx)(l.A,{children:(0,s.jsx)("div",{className:"space-y-6",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Edit Brand"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Brand not found"})]})})})})}}},e=>{e.O(0,[6447,9885,5295,7600,3575,7358],()=>e(e.s=9892)),_N_E=e.O()}]);