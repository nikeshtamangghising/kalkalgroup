(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9025],{24418:(e,s,l)=>{Promise.resolve().then(l.bind(l,41668))},41668:(e,s,l)=>{"use strict";l.r(s),l.d(s,{default:()=>c});var t=l(49095),a=l(28175),i=l(43877),n=l(86672),r=l(61289),d=l(46944);function c(){var e,s;let{isAuthenticated:l,isLoading:c}=(0,r.A)(),x=(0,d.useRouter)(),[o,h]=(0,a.useState)([]),[p,m]=(0,a.useState)(!1);c||l||x.push("/auth/signin?redirect=/addresses");let{shippingCount:u,billingCount:g,defaultShipping:f,defaultBilling:b}=(0,a.useMemo)(()=>{let e=o.filter(e=>"SHIPPING"===e.type),s=o.filter(e=>"BILLING"===e.type),l=e.find(e=>e.isDefault),t=s.find(e=>e.isDefault);return{shippingCount:e.length,billingCount:s.length,defaultShipping:l,defaultBilling:t}},[o]);return c?(0,t.jsx)(i.A,{children:(0,t.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,t.jsx)("div",{className:"flex justify-center items-center py-16",children:(0,t.jsx)("div",{className:"text-gray-500",children:"Loading..."})})})}):l?(0,t.jsx)(i.A,{children:(0,t.jsx)("div",{className:"bg-slate-50 min-h-screen",children:(0,t.jsxs)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12 space-y-10",children:[(0,t.jsxs)("section",{className:"relative overflow-hidden rounded-3xl bg-gradient-to-r from-slate-900 via-slate-800 to-slate-900 text-white p-8",children:[(0,t.jsx)("div",{className:"absolute inset-y-0 right-0 w-1/2 bg-[url('/textures/noise.png')] opacity-20 pointer-events-none"}),(0,t.jsxs)("div",{className:"relative flex flex-col lg:flex-row lg:items-center lg:justify-between gap-8",children:[(0,t.jsxs)("div",{className:"space-y-3 max-w-2xl",children:[(0,t.jsx)("p",{className:"text-xs uppercase tracking-[0.3em] text-orange-200",children:"Address book"}),(0,t.jsx)("h1",{className:"text-4xl font-bold tracking-tight",children:"Keep deliveries flowing smoothly"}),(0,t.jsx)("p",{className:"text-slate-200",children:"Save shipping and billing locations so checkout stays effortless. Tap any card below to edit, set defaults, or archive old addresses."}),f?(0,t.jsxs)("div",{className:"flex items-center gap-3 rounded-2xl bg-white/10 px-4 py-3 text-sm",children:[(0,t.jsx)("div",{className:"h-10 w-10 flex items-center justify-center rounded-xl bg-orange-500/20 text-orange-200 font-semibold",children:"\uD83D\uDE9A"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold",children:"Default shipping"}),(0,t.jsxs)("p",{className:"text-slate-200",children:[f?f.fullName:""," \xb7 ",f.city]})]})]}):(0,t.jsxs)("div",{className:"rounded-2xl bg-white/10 px-4 py-3 text-sm",children:[(0,t.jsx)("p",{className:"font-semibold",children:"No default shipping address yet"}),(0,t.jsx)("p",{className:"text-slate-200",children:"Set one to speed up every checkout."})]})]}),(0,t.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 w-full lg:w-auto",children:[{label:"Shipping",value:u,accent:!0},{label:"Billing",value:g},{label:"Defaults",value:[f,b].filter(Boolean).length},{label:"Last updated",value:(e=>{if(!e)return"—";let s=e instanceof Date?e:new Date(String(e));return Number.isNaN(s.getTime())?"—":s.toLocaleDateString()})(null!=(s=null==(e=o[0])?void 0:e.updatedAt)?s:null)}].map(e=>(0,t.jsxs)("div",{className:"rounded-2xl border border-white/10 px-4 py-3 text-center ".concat(e.accent?"bg-white/10 backdrop-blur":"bg-white/5"),children:[(0,t.jsx)("p",{className:"text-xs uppercase tracking-wide text-slate-200",children:e.label}),(0,t.jsx)("p",{className:"text-2xl font-semibold",children:e.value})]},e.label))})]})]}),(0,t.jsxs)("div",{className:"grid gap-8 lg:grid-cols-2",children:[(0,t.jsxs)("div",{id:"shipping",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs uppercase tracking-[0.3em] text-orange-500",children:"Fulfillment"}),(0,t.jsx)("h2",{className:"text-2xl font-semibold text-slate-900",children:"Shipping addresses"})]})}),(0,t.jsx)(n.A,{type:"SHIPPING",showCreateNew:!0,onAddressesChange:e=>{h(e),m(!0)}})]}),(0,t.jsxs)("div",{id:"billing",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs uppercase tracking-[0.3em] text-slate-500",children:"Receipts"}),(0,t.jsx)("h2",{className:"text-2xl font-semibold text-slate-900",children:"Billing addresses"})]})}),(0,t.jsx)(n.A,{type:"BILLING",showCreateNew:!0})]})]}),p&&0===o.length&&(0,t.jsxs)("div",{className:"rounded-3xl border border-dashed border-slate-200 bg-white px-8 py-12 text-center shadow-sm",children:[(0,t.jsx)("div",{className:"mx-auto mb-4 flex h-14 w-14 items-center justify-center rounded-full bg-slate-100 text-slate-500",children:"\uD83D\uDCCD"}),(0,t.jsx)("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"You haven’t added an address yet"}),(0,t.jsx)("p",{className:"text-slate-500",children:"Create your first shipping or billing location so orders arrive exactly where you need them."})]})]})})}):null}}},e=>{e.O(0,[6447,9885,7640,9851,378,2313,1852,5204,3575,7358],()=>e(e.s=24418)),_N_E=e.O()}]);