"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5295],{3998:(e,s,r)=>{r.d(s,{$:()=>n,A:()=>l});var a=r(49095),i=r(28175),t=r(2821);let n=(0,i.forwardRef)((e,s)=>{let{className:r,variant:i="primary",size:n="md",loading:l,children:d,disabled:c,...o}=e,m=(0,t.$)("inline-flex items-center justify-center rounded-md font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",{primary:"bg-orange-500 text-white hover:bg-orange-600 focus:ring-orange-500 shadow-sm hover:shadow-md",secondary:"bg-gray-600 text-white hover:bg-gray-700 focus:ring-gray-500 shadow-sm hover:shadow-md",outline:"border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 focus:ring-orange-500 shadow-sm hover:shadow-md",ghost:"text-gray-700 hover:bg-gray-100 focus:ring-orange-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500 shadow-sm hover:shadow-md"}[i],{sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"}[n],r),h=(0,a.jsxs)(a.Fragment,{children:[l&&(0,a.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",suppressHydrationWarning:!0,children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",suppressHydrationWarning:!0}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",suppressHydrationWarning:!0})]}),d]});return(0,a.jsx)("button",{className:m,ref:s,disabled:c||l,...o,suppressHydrationWarning:!0,children:h})});n.displayName="Button";let l=n},38113:(e,s,r)=>{r.d(s,{A:()=>C});var a=r(49095),i=r(28175),t=r(76447),n=r.n(t),l=r(46944),d=r(89885),c=r(73285),o=r(59287),m=r(63786),h=r(72384),x=r(65176),g=r(62129),u=r(18094),f=r(63944),p=r(79691),y=r(51539),v=r(61449),j=r(17109),N=r(42407),b=r(61289),w=r(3998);let A=[{name:"Dashboard",href:"/admin",icon:c.A},{name:"Products",href:"/admin/products",icon:o.A},{name:"Categories",href:"/admin/categories",icon:m.A},{name:"Gallery",href:"/admin/gallery",icon:h.A},{name:"Brands",href:"/admin/brands",icon:x.A},{name:"Inventory",href:"/admin/inventory",icon:g.A},{name:"Orders",href:"/admin/orders",icon:u.A},{name:"Customers",href:"/admin/customers",icon:f.A},{name:"Analytics",href:"/admin/analytics",icon:p.A},{name:"Settings",href:"/admin/settings",icon:y.A}],k=(0,i.memo)(e=>{var s,r;let{children:t}=e,c=(0,l.usePathname)(),{user:o}=(0,b.A)(),[m,h]=(0,i.useState)(!1),x=(0,i.useCallback)(()=>{(0,d.signOut)({callbackUrl:"/"})},[]);return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[m&&(0,a.jsxs)("div",{className:"fixed inset-0 z-50 lg:hidden",children:[(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-25",onClick:()=>h(!1)}),(0,a.jsx)("div",{className:"fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-lg",children:(0,a.jsxs)("div",{className:"flex h-full flex-col",children:[(0,a.jsxs)("div",{className:"flex h-16 items-center justify-between px-4 border-b border-gray-200",children:[(0,a.jsx)(n(),{href:"/admin",className:"text-lg font-bold text-indigo-600",children:"Admin Dashboard"}),(0,a.jsx)("button",{onClick:()=>h(!1),className:"p-2 rounded-md hover:bg-gray-100",children:(0,a.jsx)(v.A,{className:"h-5 w-5"})})]}),(0,a.jsx)("nav",{className:"flex-1 space-y-1 px-4 py-6",children:A.map(e=>{let s=c===e.href||"/admin"!==e.href&&c.startsWith(e.href);return(0,a.jsxs)(n(),{href:e.href,onClick:()=>h(!1),className:"group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors ".concat(s?"bg-indigo-100 text-indigo-700":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"),children:[(0,a.jsx)(e.icon,{className:"mr-3 h-5 w-5 flex-shrink-0 ".concat(s?"text-indigo-500":"text-gray-400 group-hover:text-gray-500")}),e.name]},e.name)})}),(0,a.jsxs)("div",{className:"border-t border-gray-200 p-4",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)("div",{className:"h-8 w-8 rounded-full bg-indigo-100 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-sm font-medium text-indigo-600",children:null==o||null==(s=o.name)?void 0:s.charAt(0).toUpperCase()})})}),(0,a.jsxs)("div",{className:"ml-3 flex-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900",children:null==o?void 0:o.name}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Administrator"})]})]}),(0,a.jsx)("div",{className:"mt-3",children:(0,a.jsxs)(w.A,{variant:"ghost",size:"sm",onClick:x,className:"w-full justify-start text-gray-700 hover:text-gray-900",children:[(0,a.jsx)(j.A,{className:"mr-2 h-4 w-4"}),"Sign Out"]})})]})]})})]}),(0,a.jsx)("div",{className:"hidden lg:fixed lg:inset-y-0 lg:left-0 lg:z-50 lg:block lg:w-64 lg:bg-white lg:shadow-lg",children:(0,a.jsxs)("div",{className:"flex h-full flex-col",children:[(0,a.jsx)("div",{className:"flex h-16 items-center justify-center border-b border-gray-200",children:(0,a.jsx)(n(),{href:"/admin",className:"text-xl font-bold text-indigo-600",children:"Admin Dashboard"})}),(0,a.jsx)("nav",{className:"flex-1 space-y-1 px-4 py-6",children:A.map(e=>{let s=c===e.href||"/admin"!==e.href&&c.startsWith(e.href);return(0,a.jsxs)(n(),{href:e.href,className:"group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors ".concat(s?"bg-indigo-100 text-indigo-700":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"),children:[(0,a.jsx)(e.icon,{className:"mr-3 h-5 w-5 flex-shrink-0 ".concat(s?"text-indigo-500":"text-gray-400 group-hover:text-gray-500")}),e.name]},e.name)})}),(0,a.jsxs)("div",{className:"border-t border-gray-200 p-4",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)("div",{className:"h-8 w-8 rounded-full bg-indigo-100 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-sm font-medium text-indigo-600",children:null==o||null==(r=o.name)?void 0:r.charAt(0).toUpperCase()})})}),(0,a.jsxs)("div",{className:"ml-3 flex-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900",children:null==o?void 0:o.name}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Administrator"})]})]}),(0,a.jsx)("div",{className:"mt-3",children:(0,a.jsxs)(w.A,{variant:"ghost",size:"sm",onClick:x,className:"w-full justify-start text-gray-700 hover:text-gray-900",children:[(0,a.jsx)(j.A,{className:"mr-2 h-4 w-4"}),"Sign Out"]})})]})]})}),(0,a.jsxs)("div",{className:"lg:pl-64",children:[(0,a.jsxs)("div",{className:"sticky top-0 z-40 flex h-16 items-center gap-x-4 border-b border-gray-200 bg-white px-4 shadow-sm sm:gap-x-6 sm:px-6 lg:hidden",children:[(0,a.jsxs)("button",{type:"button",className:"-m-2.5 p-2.5 text-gray-700 lg:hidden",onClick:()=>h(!0),children:[(0,a.jsx)("span",{className:"sr-only",children:"Open sidebar"}),(0,a.jsx)(N.A,{className:"h-6 w-6","aria-hidden":"true"})]}),(0,a.jsx)("div",{className:"flex flex-1 gap-x-4 self-stretch lg:gap-x-6",children:(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)(n(),{href:"/admin",className:"text-lg font-bold text-indigo-600",children:"Admin Dashboard"})})})]}),(0,a.jsx)("main",{className:"py-4 lg:py-6",children:(0,a.jsx)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:t})})]})]})});k.displayName="AdminLayout";let C=k},55103:(e,s,r)=>{r.d(s,{A:()=>d});var a=r(49095),i=r(61289),t=r(46944),n=r(28175),l=r(78334);function d(e){let{children:s}=e,{isAuthenticated:r,isAdmin:d,isLoading:c}=(0,i.A)(),o=(0,t.useRouter)(),[m,h]=(0,n.useState)(!1),[x,g]=(0,n.useState)(!1);return((0,n.useEffect)(()=>{g(!0)},[]),(0,n.useEffect)(()=>{let e=setTimeout(()=>{c&&!r&&(h(!0),o.push("/auth/signin?redirect=/admin"))},2e3);return()=>clearTimeout(e)},[c,r,o]),(0,n.useEffect)(()=>{if(!c){if(!r){h(!0),o.push("/auth/signin?redirect=/admin");return}if(!d){h(!0),o.push("/");return}}},[r,d,c,o]),(0,n.useEffect)(()=>{c||r&&d||(r?d||o.push("/"):o.push("/auth/signin?redirect=/admin"))},[r,d,c,o]),!x||m)?null:c?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(l.h,{size:"lg"}),(0,a.jsx)("div",{className:"mt-4 text-gray-600",children:"Verifying admin access..."}),(0,a.jsxs)("div",{className:"mt-2 text-sm text-gray-500",children:["Please wait or"," ",(0,a.jsx)("a",{href:"/auth/signin?redirect=/admin",className:"text-indigo-600 hover:text-indigo-500",children:"click here to sign in"})]})]})}):r&&d?(0,a.jsx)(a.Fragment,{children:s}):null}},61289:(e,s,r)=>{r.d(s,{A:()=>t});var a=r(89885),i=r(28175);function t(){var e,s;let{data:r,status:t}=(0,a.useSession)();(0,i.useEffect)(()=>{},[t,r]);let n=!!(null==r?void 0:r.user),l=(null==r||null==(e=r.user)?void 0:e.role)==="ADMIN",d="loading"===t;return{user:null==r?void 0:r.user,isLoading:d,isAuthenticated:n,isAdmin:l,isCustomer:(null==r||null==(s=r.user)?void 0:s.role)==="CUSTOMER",status:t}}},78334:(e,s,r)=>{r.d(s,{h:()=>t});var a=r(49095),i=r(2821);function t(e){let{size:s="md",className:r}=e;return(0,a.jsx)("div",{className:(0,i.$)("animate-spin rounded-full border-2 border-gray-300 border-t-indigo-600",{sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"}[s],r),suppressHydrationWarning:!0})}}}]);